load_input;
def &L1 = read_lang 0;
def &L2 = read_lang 1;
def &L3 = read_lang 2;
def #k = read_int 3;

def &L12 = lang_inter &L1 &L2;
def &res1 = lang_union &L12 &L3;

def &L23 = lang_union &L2 &L3;
def &res2 = lang_inter &L1 &L23;


print_lang_line &res1 until #k;
print_lang_line &res2 until #k;